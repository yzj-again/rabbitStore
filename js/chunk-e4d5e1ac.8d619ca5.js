(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4d5e1ac"],{"06b7":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-25fc507b"),e=e(),Object(a["popScopeId"])(),e),r={class:"subcategory-page"},l={class:"container"},n={class:"bread-area"},i={key:0,class:"empty-filter"},s={key:1,class:"catefilter-loading"},d={key:2,class:"product-filter-area container"},b={class:"filter-item"},u=o(()=>Object(a["createElementVNode"])("div",{class:"left-spectitle"},[Object(a["createElementVNode"])("p",{class:"ellipsis"},"品牌:")],-1)),m={class:"right-specvalue filtervalarea"},p=["onClick","title"],j={class:"left-spectitle"},O=["title"],f={class:"right-specvalue filtervalarea"},g=["title","onClick"],v={key:3,class:"product-list-area"},h={class:"producct-filter-area"},k={class:"left-area"},N=o(()=>Object(a["createElementVNode"])("span",null,"价格排序",-1)),V={class:"sorticon"},y={class:"right-area"},E={class:"product-area"};function C(e,t,c,o,C,D){const B=Object(a["resolveComponent"])("rbreaditem"),x=Object(a["resolveComponent"])("rbread"),F=Object(a["resolveComponent"])("rempty"),I=Object(a["resolveComponent"])("rcatefilteskeleton"),S=Object(a["resolveComponent"])("rcheckbox"),w=Object(a["resolveComponent"])("rgooditem"),L=Object(a["resolveComponent"])("rloadingbottom");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",n,[Object(a["createVNode"])(x,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(B,{to:"/"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("首页")]),_:1}),Object(a["createVNode"])(B,{to:"/category/"+o.breadData.top.id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.breadData.top.name),1)]),_:1},8,["to"]),Object(a["createVNode"])(a["Transition"],{name:"fade-right",mode:"out-in"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createBlock"])(B,{key:o.breadData.sub.id,to:"/category/sub/"+o.breadData.sub.id},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.breadData.sub.name),1)]),_:1},8,["to"]))]),_:1})]),_:1})]),o.firstLoading&&0===o.filterListData.saleProperties.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createVNode"])(F)])):Object(a["createCommentVNode"])("",!0),o.firstLoading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createVNode"])(I)])),o.firstLoading&&o.filterListData.saleProperties.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,[Object(a["createElementVNode"])("div",b,[u,Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.filterListData.brands,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{onClick:t=>o.userSelectBrand(e),key:t,title:e.name,class:Object(a["normalizeClass"])({active:o.filterListData.brands.selectId===e.id})},Object(a["toDisplayString"])(e.name),11,p))),128))])])]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.filterListData.saleProperties,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"filter-item",key:t},[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("p",{class:"ellipsis",title:e.name},Object(a["toDisplayString"])(e.name)+":",9,O)]),Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.properties,(t,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:c,title:t.name,onClick:c=>o.selectSpec(e,t),class:Object(a["normalizeClass"])({active:e.selectId===t.id})},Object(a["toDisplayString"])(t.name),11,g))),128))])])]))),128))])):Object(a["createCommentVNode"])("",!0),o.firstLoading&&o.filterListData.saleProperties.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",v,[Object(a["createElementVNode"])("div",h,[Object(a["createElementVNode"])("div",k,[Object(a["createElementVNode"])("a",{href:"javascript:",class:Object(a["normalizeClass"])({active:null===o.cateProductFilter.sortField}),onClick:t[0]||(t[0]=e=>o.selectFilter(null))},"默认排序",2),Object(a["createElementVNode"])("a",{href:"javascript:",class:Object(a["normalizeClass"])({active:"publishTime"===o.cateProductFilter.sortField}),onClick:t[1]||(t[1]=e=>o.selectFilter("publishTime"))},"最新商品",2),Object(a["createElementVNode"])("a",{href:"javascript:",class:Object(a["normalizeClass"])({active:"orderNum"===o.cateProductFilter.sortField}),onClick:t[2]||(t[2]=e=>o.selectFilter("orderNum"))},"最高人气",2),Object(a["createElementVNode"])("a",{href:"javascript:",class:Object(a["normalizeClass"])({active:"evaluateNum"===o.cateProductFilter.sortField}),onClick:t[3]||(t[3]=e=>o.selectFilter("evaluateNum"))},"评论最多",2),Object(a["createElementVNode"])("a",{href:"javascript:",class:"pricearea",onClick:t[4]||(t[4]=e=>o.selectFilter("price"))},[N,Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("i",{class:Object(a["normalizeClass"])(["iconfont icon-shangjiantou",{on:"asc"===o.cateProductFilter.sortMethod}])},null,2),Object(a["createElementVNode"])("i",{class:Object(a["normalizeClass"])(["iconfont icon-xiajiantou",{on:"desc"===o.cateProductFilter.sortMethod}])},null,2)])])]),Object(a["createElementVNode"])("div",y,[Object(a["createVNode"])(S,{modelValue:o.cateProductFilter.inventory,"onUpdate:modelValue":t[5]||(t[5]=e=>o.cateProductFilter.inventory=e),onClick:o.changeRightselect},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("仅显示有货商品")]),_:1},8,["modelValue","onClick"]),Object(a["createVNode"])(S,{modelValue:o.cateProductFilter.onlyDiscount,"onUpdate:modelValue":t[6]||(t[6]=e=>o.cateProductFilter.onlyDiscount=e),onClick:o.changeRightselect},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("仅显示特惠商品")]),_:1},8,["modelValue","onClick"])])]),Object(a["createElementVNode"])("div",E,[Object(a["createElementVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.subProductList,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:t,style:Object(a["normalizeStyle"])({margin:(t+1)%5===0?"0px":"0px 12px 40px 12px"})},[Object(a["createVNode"])(w,{goodsData:e},null,8,["goodsData"])],4))),128))]),Object(a["createVNode"])(L,{loading:o.loading,finished:o.finished,onInfiniteloadData:o.loadSubData},null,8,["loading","finished","onInfiniteloadData"])])])):Object(a["createCommentVNode"])("",!0)])])}c("3c65"),c("14d9");var D=c("6605"),B=c("5502"),x=c("c405");const F={class:"rcatefilterskeleton-component"};function I(e,t,c,o,r,l){const n=Object(a["resolveComponent"])("rskeleton");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",F,[Object(a["createVNode"])(n,{bg:"#e4e4e4",animated:"",width:"800px"}),Object(a["createVNode"])(n,{bg:"#e4e4e4",animated:"",width:"1000px"}),Object(a["createVNode"])(n,{bg:"#e4e4e4",animated:"",width:"100%"})])}var S={name:"rcatefilterskeleton"},w=(c("eca7"),c("d959")),L=c.n(w);const P=L()(S,[["render",I],["__scopeId","data-v-7da8cebc"]]);var _=P;const z={class:"goods-img",alt:""},T={class:"goodsitem-name"},M={class:"goodsitem-desc ellipsis"},R={class:"goodsitem-price"};function J(e,t,c,o,r,l){const n=Object(a["resolveComponent"])("rprice"),i=Object(a["resolveDirective"])("lazy");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"r-goodsitem-component",onClick:t[0]||(t[0]=e=>o.godetail(c.goodsData))},[Object(a["withDirectives"])(Object(a["createElementVNode"])("img",z,null,512),[[i,c.goodsData.picture]]),Object(a["createElementVNode"])("div",T,Object(a["toDisplayString"])(c.goodsData.name),1),Object(a["createElementVNode"])("div",M,Object(a["toDisplayString"])(c.goodsData.desc),1),Object(a["createElementVNode"])("div",R,[Object(a["createVNode"])(n,{price:c.goodsData.price,size:"18"},null,8,["price"])])])}var U={name:"rgooditem",props:{goodsData:{type:Object,default:()=>({})}},setup(){const e=Object(D["d"])(),t=t=>{e.push({path:"/goodsdetail/"+t.id})};return{godetail:t}}};c("9595");const $=L()(U,[["render",J],["__scopeId","data-v-0687ea95"]]);var A=$,q=c("7fe6"),G=c("c40e"),H={name:"subcategory",setup(){const e=Object(a["ref"])([]);let t={page:1,pageSize:18,categoryId:"",attrs:[],brandId:""};const c=Object(a["ref"])(!1),o=Object(a["ref"])(!1),r=Object(a["ref"])(!1),l=Object(D["c"])(),n=Object(B["b"])(),i=Object(a["computed"])(()=>{const e={};return n.state.category.cateList.forEach(t=>{t.children.forEach(c=>{c.id===l.params.id&&(e.sub={name:c.name,id:c.id},e.top={name:t.name,id:t.id})})}),e}),s=Object(a["ref"])({}),d=()=>{Object(x["b"])(l.params.id).then(e=>{const{result:{saleProperties:t,brands:c}}=e;c.selectId=null,c.unshift({id:null,name:"全部"}),t.forEach(e=>{e.selectId=null,e.properties.unshift({id:null,name:"全部"})}),s.value=e.result,r.value=!0,document.title=i.value.sub.name})};Object(a["watch"])(()=>l.params.id,c=>{c&&"/category/sub/"+c===l.path&&(e.value=[],o.value=!1,r.value=!1,t={page:1,pageSize:18,categoryId:"",attrs:[],brandId:""},d())},{immediate:!0});const b=Object(a["reactive"])({inventory:!1,onlyDiscount:!1,sortField:null,sortMethod:null}),u=c=>{if("price"!==c){if(b.sortField===c)return;b.sortField=c,b.sortMethod=null}else null===b.sortMethod?b.sortMethod="desc":b.sortMethod="desc"===b.sortMethod?"asc":"desc";t={...t,...b},o.value=!1,e.value=[],t.page=1,m()},m=()=>{c.value=!0,t.categoryId=l.params.id,Object(G["a"])(t).then(a=>{const{result:{items:r}}=a;r.length?(e.value.push(...r),t.page++):o.value=!0,c.value=!1})},p=()=>{o.value=!0,t={...t,...b},t.page=1,o.value=!1,e.value=[],m()},j=(c,a)=>{if(c.selectId===a.id)return;const r=a.id;c.selectId=r,O(c,a),t={...t,...b},t.page=1,o.value=!1,e.value=[],m()},O=(e,c)=>{const a=t.attrs.findIndex(t=>t.groupName===e.name);-1!==a&&t.attrs.splice(a,1),t.attrs.push({groupName:e.name,propertyName:c.name})},f=c=>{if(s.value.brands.selectId===c.id)return;const{id:a}=c;s.value.brands.selectId=a,t.brandId=a,t={...t,...b},t.page=1,e.value=[],o.value=!1,m()};return{breadData:i,filterListData:s,cateProductFilter:b,selectFilter:u,firstLoading:r,loading:c,finished:o,loadSubData:m,subProductList:e,changeRightselect:p,selectSpec:j,userSelectBrand:f}},components:{rcatefilteskeleton:_,rgooditem:A,rempty:q["a"]}};c("8827");const K=L()(H,[["render",C],["__scopeId","data-v-25fc507b"]]);t["default"]=K},"083a":function(e,t,c){"use strict";var a=c("0d51"),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+a(t)+" of "+a(e))}},"22ca":function(e,t,c){},"3c65":function(e,t,c){"use strict";var a=c("23e7"),o=c("7b0b"),r=c("07fa"),l=c("3a34"),n=c("083a"),i=c("3511"),s=1!==[].unshift(0),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();a({target:"Array",proto:!0,arity:1,forced:s||d},{unshift:function(e){var t=o(this),c=r(t),a=arguments.length;if(a){i(c+a);var s=c;while(s--){var d=s+a;s in t?t[d]=t[s]:n(t,d)}for(var b=0;b<a;b++)t[b]=arguments[b]}return l(t,c+a)}})},"6c47":function(e,t,c){},"7fe6":function(e,t,c){"use strict";var a=c("7a23"),o=c("f3e2"),r=c.n(o);const l=e=>(Object(a["pushScopeId"])("data-v-4bd8269e"),e=e(),Object(a["popScopeId"])(),e),n={class:"r-empty-componen"},i=l(()=>Object(a["createElementVNode"])("img",{src:r.a,alt:""},null,-1)),s={class:"emptytext"};function d(e,t,c,o,r,l){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[i,Object(a["createElementVNode"])("span",s,Object(a["toDisplayString"])(c.emptyText),1)])}var b={name:"index",props:{emptyText:{type:String,default:"暂无更多数据!"}}},u=(c("87cf"),c("d959")),m=c.n(u);const p=m()(b,[["render",d],["__scopeId","data-v-4bd8269e"]]);t["a"]=p},"87cf":function(e,t,c){"use strict";c("fc9e")},8827:function(e,t,c){"use strict";c("a67b")},9595:function(e,t,c){"use strict";c("6c47")},a67b:function(e,t,c){},c40e:function(e,t,c){"use strict";c.d(t,"a",(function(){return o})),c.d(t,"d",(function(){return r})),c.d(t,"f",(function(){return l})),c.d(t,"e",(function(){return n})),c.d(t,"c",(function(){return i})),c.d(t,"b",(function(){return s}));var a=c("b775");function o(e){return Object(a["b"])("/category/goods/temporary","post",e)}function r(e){return Object(a["b"])("/goods","get",{id:e})}function l(e,t){return Object(a["b"])("/goods/relevant","get",{id:e,limit:t})}function n(e){return Object(a["b"])("/goods/hot","get",e)}function i(e){return Object(a["b"])(`https://mock.boxuegu.com/mock/1175/goods/${e}/evaluate`,"get")}function s(e,t){return Object(a["b"])(`https://mock.boxuegu.com/mock/1175/goods/${e}/evaluate/page`,"get",t)}},eca7:function(e,t,c){"use strict";c("22ca")},fc9e:function(e,t,c){}}]);
//# sourceMappingURL=chunk-e4d5e1ac.8d619ca5.js.map